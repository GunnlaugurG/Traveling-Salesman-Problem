{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/draw.js","webpack:///./src/scripts/TSP.js","webpack:///./src/scripts/file.js","webpack:///./src/scripts/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","console","log","drawSingleDot","ctx","x","y","last","beginPath","arc","Math","PI","fillStyle","fill","drawService","drawLine","vert","moveTo","fromX","fromY","lineTo","toX","toY","lineWidth","strokeStyle","stroke","clear","clearRect","width","height","drawDots","points","TSP","_classCallCheck","this","document","getElementById","getContext","route","edge","distance","tempRoute","numberOfCities","running","timeOut","cities","twoOpt","k","a","dec","updateRoute","shorter","routeLength","swap","_toConsumableArray","timer","style","visibility","_this","Promise","resolve","reject","setTimeout","generateVert","updateDistance","numberOfPoints","point","floor","random","clearRoute","from","to","Number","sqrt","pow","innerHTML","toFixed","calculateLength","_readFile","fileServ","readFile","regeneratorRuntime","mark","_callee","file","fileContents","vertices","wrap","_context","prev","next","readUploadedFileAsText","sent","split","map","line","trim","abrupt","t0","stop","_x","arguments","inputFile","fileReader","FileReader","onerror","abort","DOMException","onload","readAsText","globalObject","tsp","newRoute","getCitieCount","alert","updateCitiCount","generatePoints","addEventListener","e","solve","_ref","target","files","FileServ","setRouteFromFile"],"mappings":"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","file":"js/app.cf06ef6d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([101,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","console.log(\"Draw up and running\");\r\n\r\n// keep function like this if i need to add to export.. change to named function if not used\r\nlet drawService = () => {\r\n    return {        \r\n        drawLine: (ctx, vert) => {\r\n            ctx.beginPath();\r\n            ctx.moveTo(vert.fromX, vert.fromY);\r\n            ctx.lineTo(vert.toX, vert.toY);\r\n            ctx.lineWidth = \"2\";\r\n            ctx.strokeStyle = \"lightgreen\";\r\n            ctx.stroke();\r\n        },\r\n        clear: (ctx, c) => {\r\n            ctx.clearRect(0,0, c.width, c.height);\r\n        },\r\n        drawDots: (ctx, points) => {\r\n            drawSingleDot(ctx, points[0].x, points[0].y, true);\r\n            for(var i = 1; i < points.length; i++){\r\n                drawSingleDot(ctx, points[i].x, points[i].y, false);\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nfunction drawSingleDot (ctx, x, y, last){\r\n    ctx.beginPath();\r\n    ctx.arc(x,y,6, 0, 2* Math.PI);\r\n\r\n    if(last){\r\n        ctx.fillStyle = \"red\";\r\n    }else{\r\n        ctx.fillStyle = \"white\";\r\n    }\r\n    ctx.fill();\r\n}\r\n\r\nexport default drawService();\r\n\r\n","import drawService from './draw.js';\r\n\r\nclass TSP {\r\n    constructor() {\r\n        this.c = document.getElementById(\"canvas\");\r\n        this.ctx = this.c.getContext(\"2d\");\r\n        this.route = {\r\n            points: [],\r\n            edge: [],\r\n            distance: 0\r\n        };\r\n        this.tempRoute = {\r\n            points: [],\r\n            edge: [],\r\n            distance: 0\r\n        };\r\n        this.numberOfCities = 300;\r\n        this.running = false;\r\n        this.timeOut = 10;\r\n    }\r\n    \r\n    // clear points array and clear the canvas\r\n    clearRoute() {\r\n        this.running = false;\r\n        this.route.points = [];\r\n        this.route.edge = [];\r\n        this.route.distance = 0;\r\n        this.tempRoute.points = [];\r\n        this.tempRoute.edge = [];\r\n        this.tempRoute.distance = 0;\r\n        drawService.clear(this.ctx, this.c);\r\n    }\r\n\r\n    // update the number of cities to route through\r\n    updateCitiCount(cities){\r\n        this.numberOfCities = cities;\r\n        console.log(\"numberOf cities: \"+this.numberOfCities);\r\n    }\r\n\r\n    // solve the shortest path, set route to running and call the twoopt()\r\n    solve(){\r\n        this.running = true;\r\n        this.twoOpt();\r\n    }\r\n\r\n    swap(i, k) {\r\n        for(let a = 0; a < i; a++){\r\n            this.tempRoute.points[a] = this.route.points[a];\r\n        }\r\n\r\n        let dec = 0;\r\n        for(let a = i; a <= k; a++){\r\n            this.tempRoute.points[a] = this.route.points[k - dec];\r\n            dec++;\r\n        }\r\n\r\n        for(let a = k + 1; a < this.route.points.length; a++){\r\n            this.tempRoute.points[a] = this.route.points[a];\r\n        }\r\n        this.updateRoute(this.tempRoute);\r\n    }\r\n    \r\n    async twoOpt(){\r\n        let shorter = true;\r\n        const routeLength = this.route.points.length;\r\n        while(shorter && this.running){\r\n            shorter = false;\r\n            for(let i = 1; i < routeLength - 1; i++){\r\n                if(!this.running) break;\r\n                for(let k = i + 1; k < routeLength; k++){\r\n                    if(!this.running) break;\r\n                    this.swap(i, k);\r\n                    if(this.tempRoute.distance < this.route.distance){\r\n                        shorter = true;\r\n                        this.route.points = [...this.tempRoute.points];\r\n                        await this.timer(this.route);\r\n                    };\r\n                };\r\n            };\r\n        };\r\n        this.updateRoute(this.route);\r\n        this.running = false;\r\n        document.getElementById('spinner').style.visibility = 'hidden';\r\n    };\r\n\r\n    timer() {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                this.updateRoute(this.route);\r\n                resolve();\r\n            }, this.timeOut);\r\n        });\r\n    }\r\n    \r\n    updateRoute(route) {\r\n        route.edge = [];\r\n        route.distance = 0;\r\n        drawService.clear(this.ctx, this.c);\r\n        // create edge from points\r\n        \r\n        let vert;\r\n        for(var i = 0; i < route.points.length; i++){\r\n            // if its the last the last parameter is false to make it white instead of yellow\r\n            if(route.points.length-1 !== i){\r\n                vert = this.generateVert(i, i+1, route);\r\n                drawService.drawLine(this.ctx, vert);\r\n            }\r\n            else{\r\n                vert = this.generateVert(i, 0, route);\r\n                drawService.drawLine(this.ctx, vert);\r\n                };\r\n            };\r\n            // draw the endpoints on the canvas\r\n            drawService.drawDots(this.ctx, this.route.points);\r\n            this.updateDistance();\r\n    };\r\n    \r\n    // generate points to between 1 and 800\r\n    generatePoints(numberOfPoints) {\r\n        let point;\r\n        // generate routeLength many points and add to points array\r\n        for(var i = 0; i < numberOfPoints; i++){\r\n            point = {\r\n                x: Math.floor((Math.random() * 800) + 1),\r\n                y: Math.floor((Math.random() * 800) + 1)\r\n            };\r\n            this.route.points.push(point);\r\n        }\r\n        // add fist point again as last points to close circle\r\n        // this.route.points.push(this.route.points[0]);\r\n    };\r\n\r\n    setRouteFromFile(points){\r\n        this.clearRoute();\r\n        this.route.points = [...points];\r\n        this.updateRoute(this.route);\r\n    }\r\n\r\n    // calculate the length from one point to another\r\n    calculateLength(from, to){\r\n        var dist = Number(Math.sqrt(Math.pow(from.x - to.x, 2) + Math.pow(from.y - to.y, 2)));\r\n        return dist;\r\n    }\r\n\r\n    // update the distance in the html\r\n    updateDistance() {\r\n        document.getElementById('distance').innerHTML = \"Distance: \" + this.route.distance.toFixed(1);\r\n    }\r\n    // generate Vertecies from points[i] to points[i+1]\r\n    generateVert (from, to, route){\r\n        let vert = {\r\n            fromX: route.points[from].x,\r\n            fromY: route.points[from].y,\r\n            toX: route.points[to].x,\r\n            toY: route.points[to].y\r\n       };\r\n       route.distance += this.calculateLength(route.points[from], route.points[to]);\r\n       route.edge.push(vert);\r\n       return vert;\r\n    }\r\n}\r\n\r\nexport default TSP;","let fileServ = () => {\r\n    return {\r\n        readFile: async (file) => {\r\n            try {\r\n                console.log(\"Reading file\");\r\n                const fileContents = await readUploadedFileAsText(file)\r\n                const vertices = fileContents\r\n                    .split('\\n')\r\n                    .map(line => line.trim().split(' '))\r\n                    .map(line => ({ x: Number(line[0]), y: Number(line[1]) }));\r\n                return vertices;\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default fileServ();\r\n\r\nfunction readUploadedFileAsText (inputFile) {\r\n    const fileReader = new FileReader();\r\n\r\n    return new Promise((resolve, reject) => {\r\n        fileReader.onerror = () => {\r\n            fileReader.abort();\r\n            reject(new DOMException(\"Problem parsing input file.\"));\r\n        };\r\n        fileReader.onload = () => {\r\n            resolve(fileReader.result);\r\n        };\r\n        fileReader.readAsText(inputFile);\r\n\r\n    });\r\n};","import '../styles/index.scss';\nimport drawService from './draw.js';\nimport TSP from './TSP.js';\nimport FileServ from './file.js';\n\n(function (globalObject) {\n    console.log(\"JS up and running\");\n    \n    let tsp = new TSP();\n\n    // start by filling canvas with 48 nodes\n    newRoute();\n\n    document.getElementById('restart').addEventListener('click', (e) => {\n        newRoute();\n     });\n     document.getElementById('solve').addEventListener('click', (e) => {\n        document.getElementById('spinner').style.visibility = 'visible';\n        tsp.solve();\n     });\n     document.getElementById('generate').addEventListener('click', (e) => {\n        newRoute();\n     });\n     document.getElementById('delay').addEventListener('change', (e) => {\n         tsp.timeOut = document.getElementById('delay').value;\n     });\n     document.getElementById('file').addEventListener('change', async (e) => {\n        var file = e.target.files[0];\n        var points = await FileServ.readFile(file);\n        tsp.setRouteFromFile(points);\n     });\n\n     function newRoute(){\n        var getCitieCount = document.getElementById('cities');\n        var numberOfCities = getCitieCount.value;\n        console.log(numberOfCities);\n        if(numberOfCities <= 2){\n            alert(\"number of cities needs to be more then 2\");\n            getCitieCount.value = 48;\n        } \n        else{\n            tsp.updateCitiCount(numberOfCities);\n            tsp.clearRoute();\n            tsp.generatePoints(numberOfCities);\n            tsp.updateRoute(tsp.route);\n        }\n     }\n})(window);\n"],"sourceRoot":""}